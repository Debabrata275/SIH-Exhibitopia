<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="tailwindcss-colors.css">
    <link rel="stylesheet" href="paystyle.css">
    <title>Payment Page</title>
</head>
<body>
    
    <!-- start: Payment -->
    <section class="payment-section">
        <div class="container">
            <div class="payment-wrapper">
                <div class="payment-left">
                    <div class="payment-header">
                        <div class="payment-header-icon"><i class="ri-flashlight-fill"></i></div>
                        <div class="payment-header-title">Order Summary</div>
                        <p class="payment-header-description">Experience the wonders of our museum with this all-access pass.</p>
                    </div>
                    <div class="payment-content">
                        <div class="payment-body">
                            <div class="payment-plan">
                                <div class="payment-plan-type">Pro</div>
                                <div class="payment-plan-info">
                                    <div class="payment-plan-info-name">All-Access Museum Pass</div>
                                    <div class="payment-plan-info-price">â‚¹499.99 per person</div>
                                </div>
                                <a href="#" class="payment-plan-change">Change</a>
                            </div>
                            <div class="payment-summary">
                                <div class="payment-summary-item">
                                    <div class="payment-summary-name">Guided Tour Fee</div>
                                    <div class="payment-summary-price">â‚¹100.00</div>
                                </div>
                                <div class="payment-summary-item">
                                    <div class="payment-summary-name">Early Bird Discount (20%)</div>
                                    <div class="payment-summary-price">-â‚¹120.00</div>
                                </div>
                                <div class="payment-summary-divider"></div>
                                <div class="payment-summary-item payment-summary-total">
                                    <div class="payment-summary-name">Total</div>
                                    <div class="payment-summary-price">â‚¹479.99</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="payment-right">
                    <form action="" class="payment-form">
                        <h1 class="payment-title">Payment Details</h1>
                        <div class="payment-methods">
                            <button type="button" class="payment-method-button" id="card-method">
                                <i class="ri-bank-card-line"></i>
                                <span>Debit/Credit Card</span>
                            </button>
                            <button type="button" class="payment-method-button" id="upi-method">
                                <img src="upi.png" alt="UPI">
                                <span>UPI</span>
                            </button>
                            <button type="button" class="payment-method-button" id="netbanking-method">
                                <i class="ri-bank-line"></i>
                                <span>Net Banking</span>
                            </button>
                            <button type="button" class="payment-method-button" id="wallet-method">
                                <i class="ri-wallet-3-line"></i>
                                <span>Mobile Wallets</span>
                            </button>
                            <button type="button" class="payment-method-button" id="gift-method">
                                <i class="ri-gift-line"></i>
                                <span>Gift Vouchers</span>
                            </button>
                        </div>

                        <div id="payment-details-content">
                            <!-- This div will be populated with the appropriate form fields based on the selected payment method -->
                        </div>

                        <div id="card-options" style="display: none;">
                            <div class="options-container">
                                <button class="scroll-button scroll-left" data-target="card-options-slider">&lt;</button>
                                <button class="scroll-button scroll-right" data-target="card-options-slider">&gt;</button>
                                <div class="card-options-slider">
                                    <div class="card-option">
                                        <button type="button" class="card-option-button" data-card="mastercard">
                                            <img src="mastercard.png" alt="Mastercard">
                                            <span>Mastercard</span>
                                        </button>
                                    </div>
                                    <div class="card-option">
                                        <button type="button" class="card-option-button" data-card="visa">
                                            <img src="visa.png" alt="Visa">
                                            <span>Visa</span>
                                        </button>
                                    </div>
                                    <div class="card-option">
                                        <button type="button" class="card-option-button" data-card="rupay">
                                            <img src="rupay.png" alt="RuPay">
                                            <span>RuPay</span>
                                        </button>
                                    </div>
                                    <div class="card-option">
                                        <button type="button" class="card-option-button" data-card="other">
                                            <i class="ri-bank-card-line"></i>
                                            <span>Other</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-details-form" style="display: none;">
                                <div class="payment-form-group">
                                    <input type="text" placeholder=" " class="payment-form-control" id="cardholder-name" required>
                                    <label for="cardholder-name" class="payment-form-label payment-form-label-required">Name on Card</label>
                                </div>
                                <div class="payment-form-group">
                                    <input type="text" placeholder=" " class="payment-form-control" id="card-number" required>
                                    <label for="card-number" class="payment-form-label payment-form-label-required">Card Number</label>
                                </div>
                                <div class="payment-form-group-flex">
                                    <div class="payment-form-group">
                                        <input type="text" class="payment-form-control" id="expiry-date" required>
                                        <label for="expiry-date" class="payment-form-label payment-form-label-required">Expiry</label>
                                    </div>
                                    <div class="payment-form-group">
                                        <input type="text" placeholder=" " class="payment-form-control" id="cvv" required>
                                        <label for="cvv" class="payment-form-label payment-form-label-required">CVV</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="upi-options" style="display: none;">
                            <div class="options-container">
                                <button class="scroll-button scroll-left" data-target="upi-options-slider">&lt;</button>
                                <button class="scroll-button scroll-right" data-target="upi-options-slider">&gt;</button>
                                <div class="upi-options-slider">
                                    <div class="upi-option">
                                        <button type="button" class="upi-option-button" data-upi="googlepay">
                                            <img src="googlepay.png" alt="Google Pay">
                                            <span>Google Pay</span>
                                        </button>
                                    </div>
                                    <div class="upi-option">
                                        <button type="button" class="upi-option-button" data-upi="phonepe">
                                            <img src="phonepe.png" alt="PhonePe">
                                            <span>PhonePe</span>
                                        </button>
                                    </div>
                                    <div class="upi-option">
                                        <button type="button" class="upi-option-button" data-upi="paytm">
                                            <img src="paytm upi.png" alt="Paytm UPI">
                                            <span>Paytm UPI</span>
                                        </button>
                                    </div>
                                    <div class="upi-option">
                                        <button type="button" class="upi-option-button" data-upi="bhim">
                                            <img src="bhim.png" alt="BHIM">
                                            <span>BHIM</span>
                                        </button>
                                    </div>
                                    <div class="upi-option">
                                        <button type="button" class="upi-option-button" data-upi="other">
                                            <img src="upi.png" alt="Other UPI">
                                            <span>Other UPI</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="upi-id-input" style="display: none;">
                                <div class="payment-form-group">
                                    <input type="text" placeholder=" " class="payment-form-control" id="upi-id" required>
                                    <label for="upi-id" class="payment-form-label payment-form-label-required">Enter UPI ID</label>
                                </div>
                            </div>
                        </div>

                        <div id="netbanking-options" style="display: none;">
                            <div class="options-container">
                                <button class="scroll-button scroll-left" data-target="netbanking-options-slider">&lt;</button>
                                <button class="scroll-button scroll-right" data-target="netbanking-options-slider">&gt;</button>
                                <div class="netbanking-options-slider">
                                    <div class="netbanking-option">
                                        <button type="button" class="netbanking-option-button" data-bank="sbi">
                                            <img src="sbi.png" alt="State Bank of India">
                                            <span>SBI</span>
                                        </button>
                                    </div>
                                    <div class="netbanking-option">
                                        <button type="button" class="netbanking-option-button" data-bank="hdfc">
                                            <img src="HDFC.png" alt="HDFC Bank">
                                            <span>HDFC</span>
                                        </button>
                                    </div>
                                    <div class="netbanking-option">
                                        <button type="button" class="netbanking-option-button" data-bank="axis">
                                            <img src="AXISBANK.png" alt="Axis Bank">
                                            <span>Axis</span>
                                        </button>
                                    </div>
                                    <div class="netbanking-option">
                                        <button type="button" class="netbanking-option-button" data-bank="icici">
                                            <img src="icici.jpg" alt="ICICI Bank">
                                            <span>ICICI</span>
                                        </button>
                                    </div>
                                    <div class="netbanking-option">
                                        <button type="button" class="netbanking-option-button" data-bank="other">
                                            <i class="ri-bank-line"></i>
                                            <span>Other Banks</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="wallet-options" style="display: none;">
                            <div class="options-container">
                                <button class="scroll-button scroll-left" data-target="wallet-options-slider">&lt;</button>
                                <button class="scroll-button scroll-right" data-target="wallet-options-slider">&gt;</button>
                                <div class="wallet-options-slider">
                                    <div class="wallet-option">
                                        <button type="button" class="wallet-option-button" data-wallet="paytm">
                                            <img src="paytm wallet.png" alt="Paytm Wallet">
                                            <span>Paytm Wallet</span>
                                        </button>
                                    </div>
                                    <div class="wallet-option">
                                        <button type="button" class="wallet-option-button" data-wallet="mobikwik">
                                            <img src="mobikwik.png" alt="MobiKwik">
                                            <span>MobiKwik</span>
                                        </button>
                                    </div>
                                    <div class="wallet-option">
                                        <button type="button" class="wallet-option-button" data-wallet="payzapp">
                                            <img src="payzapp.png" alt="PayZapp">
                                            <span>PayZapp</span>
                                        </button>
                                    </div>
                                    <div class="wallet-option">
                                        <button type="button" class="wallet-option-button" data-wallet="paypal">
                                            <img src="paypal.png" alt="PayPal">
                                            <span>PayPal</span>
                                        </button>
                                    </div>
                                    <div class="wallet-option">
                                        <button type="button" class="wallet-option-button" data-wallet="amazonpay">
                                            <img src="Amazonpaywallet.png" alt="Amazon Pay Wallet">
                                            <span>Amazon Pay</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="gift-voucher-options" style="display: none;">
                            <div class="gift-voucher-input">
                                <div class="payment-form-group">
                                    <input type="text" placeholder=" " class="payment-form-control" id="gift-voucher-code" required>
                                    <label for="gift-voucher-code" class="payment-form-label">Enter Gift Voucher Code</label>
                                </div>
                                <button type="button" id="apply-voucher" class="apply-voucher-button">Apply</button>
                            </div>
                            <div id="voucher-message" class="voucher-message"></div>
                        </div>

                        <button type="submit" id="pay-button" class="payment-form-submit-button"><i class="ri-wallet-line"></i> Pay</button>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!-- end: Payment -->

    <div id="other-banks-popup" class="popup" style="display: none;">
        <div class="popup-content">
            <h3>Select a Bank</h3>
            <ul class="bank-list">
                <li><button class="bank-option">BANK OF BARODA</button></li>
                <li><button class="bank-option">BANK OF MAHARASHTRA</button></li>
                <li><button class="bank-option">CANARA BANK</button></li>
                <li><button class="bank-option">CENTRAL BANK OF INDIA</button></li>
                <li><button class="bank-option">CITY UNION BANK</button></li>
                <li><button class="bank-option">DCB BANK LIMITED</button></li>
                <li><button class="bank-option">DHANLAXMI BANK LIMITED</button></li>
                <li><button class="bank-option">FEDERAL BANK</button></li>
                <li><button class="bank-option">IDBI BANK</button></li>
                <li><button class="bank-option">INDIAN OVERSEAS BANK</button></li>
                <li><button class="bank-option">INDUSIND BANK</button></li>
                <li><button class="bank-option">JAMMU AND KASHMIR BANK LIMITED</button></li>
                <li><button class="bank-option">KARNATAKA BANK LIMITED</button></li>
                <li><button class="bank-option">KARUR VYSYA BANK</button></li>
                <li><button class="bank-option">KOTAK MAHINDRA BANK LIMITED</button></li>
                <li><button class="bank-option">PUNJAB AND SIND BANK</button></li>
                <li><button class="bank-option">PUNJAB NATIONAL BANK</button></li>
                <li><button class="bank-option">RBL BANK LIMITED</button></li>
                <li><button class="bank-option">SOUTH INDIAN BANK</button></li>
                <li><button class="bank-option">UCO BANK</button></li>
                <li><button class="bank-option">UNION BANK OF INDIA</button></li>
            </ul>
            <button id="close-popup">Close</button>
        </div>
    </div>

    <div id="redirect-confirmation-popup" class="popup" style="display: none;">
        <div class="popup-content">
            <h3>Confirm Redirection</h3>
            <p>You are about to leave this site and be redirected to the bank's payment gateway. Do you want to continue?</p>
            <div class="popup-buttons">
                <button id="confirm-redirect">Continue</button>
                <button id="cancel-redirect">Cancel</button>
            </div>
        </div>
    </div>

    <div id="loading-popup" class="popup" style="display: none;">
        <div class="popup-content loading-content">
            <div class="loader"></div>
            <p>Please wait...</p>
        </div>
    </div>

    <script>
        const paymentMethods = document.querySelectorAll('.payment-method-button');
        const cardOptions = document.getElementById('card-options');
        const cardDetailsForm = document.querySelector('.card-details-form');
        const upiOptions = document.getElementById('upi-options');
        const netbankingOptions = document.getElementById('netbanking-options');
        const walletOptions = document.getElementById('wallet-options');
        const paymentDetailsContent = document.getElementById('payment-details-content');
        
        paymentMethods.forEach(method => {
            method.addEventListener('click', () => {
                paymentMethods.forEach(m => m.classList.remove('selected'));
                method.classList.add('selected');
                
                paymentDetailsContent.innerHTML = ''; // Clear previous content

                if (method.id === 'card-method') {
                    paymentDetailsContent.appendChild(cardOptions);
                    cardOptions.style.display = 'block';
                    cardDetailsForm.style.display = 'none'; // Hide card details form initially
                } else if (method.id === 'upi-method') {
                    paymentDetailsContent.appendChild(upiOptions);
                    upiOptions.style.display = 'block';
                } else if (method.id === 'netbanking-method') {
                    paymentDetailsContent.appendChild(netbankingOptions);
                    netbankingOptions.style.display = 'block';
                } else if (method.id === 'wallet-method') {
                    paymentDetailsContent.appendChild(walletOptions);
                    walletOptions.style.display = 'block';
                } else if (method.id === 'gift-method') {
                    paymentDetailsContent.appendChild(document.getElementById('gift-voucher-options'));
                    document.getElementById('gift-voucher-options').style.display = 'block';
                    document.getElementById('pay-button').disabled = true;
                    document.getElementById('pay-button').classList.add('disabled');
                }
            });
        });

        const cardOptionButtons = document.querySelectorAll('.card-option-button');
        cardOptionButtons.forEach(button => {
            button.addEventListener('click', () => {
                cardOptionButtons.forEach(b => b.classList.remove('selected'));
                button.classList.add('selected');
                cardDetailsForm.style.display = 'block';
            });
        });

        const expiryDateInput = document.getElementById('expiry-date');
        
        expiryDateInput.addEventListener('focus', function() {
            this.setAttribute('placeholder', 'MM/YY');
        });

        expiryDateInput.addEventListener('blur', function() {
            this.setAttribute('placeholder', '');
        });

        expiryDateInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 2) {
                value = value.slice(0, 2) + '/' + value.slice(2, 4);
            }
            e.target.value = value;
        });

        const upiOptionButtons = document.querySelectorAll('.upi-option-button');
        const upiIdInput = document.querySelector('.upi-id-input');
        
        upiOptionButtons.forEach(button => {
            button.addEventListener('click', () => {
                upiOptionButtons.forEach(b => {
                    b.classList.remove('selected');
                });
                button.classList.add('selected');
                upiIdInput.style.display = 'block';
            });
        });

        const walletOptionButtons = document.querySelectorAll('.wallet-option-button');
        
        walletOptionButtons.forEach(button => {
            button.addEventListener('click', () => {
                walletOptionButtons.forEach(b => b.classList.remove('selected'));
                button.classList.add('selected');
            });
        });

        const scrollButtons = document.querySelectorAll('.scroll-button');
        scrollButtons.forEach(button => {
            button.addEventListener('click', () => {
                const target = document.querySelector(`.${button.dataset.target}`);
                const scrollAmount = button.classList.contains('scroll-left') ? -100 : 100;
                target.scrollLeft += scrollAmount;
            });
        });

        const netbankingOptionButtons = document.querySelectorAll('.netbanking-option-button');

        netbankingOptionButtons.forEach(button => {
            button.addEventListener('click', () => {
                netbankingOptionButtons.forEach(b => b.classList.remove('selected'));
                button.classList.add('selected');
                // You can add specific handling for netbanking options here if needed
            });
        });

        function setupSlider(sliderId) {
            const slider = document.querySelector(`.${sliderId}`);
            const scrollLeftButton = document.querySelector(`.scroll-button.scroll-left[data-target="${sliderId}"]`);
            const scrollRightButton = document.querySelector(`.scroll-button.scroll-right[data-target="${sliderId}"]`);

            scrollLeftButton.addEventListener('click', () => {
                slider.scrollLeft -= 100;
            });

            scrollRightButton.addEventListener('click', () => {
                slider.scrollLeft += 100;
            });
        }

        setupSlider('card-options-slider');
        setupSlider('upi-options-slider');
        setupSlider('wallet-options-slider');
        setupSlider('netbanking-options-slider');

        const otherBanksPopup = document.getElementById('other-banks-popup');
        const otherBanksButton = document.querySelector('.netbanking-option-button[data-bank="other"]');
        const closePopupButton = document.getElementById('close-popup');
        const bankOptions = document.querySelectorAll('.bank-option');

        otherBanksButton.addEventListener('click', () => {
            otherBanksPopup.style.display = 'flex';
        });

        closePopupButton.addEventListener('click', () => {
            otherBanksPopup.style.display = 'none';
        });

        bankOptions.forEach(option => {
            option.addEventListener('click', () => {
                const selectedBank = option.textContent;
                otherBanksButton.querySelector('span').textContent = selectedBank;
                otherBanksButton.classList.add('selected');
                otherBanksPopup.style.display = 'none';
            });
        });

        // Close the popup if clicked outside
        window.addEventListener('click', (e) => {
            if (e.target === otherBanksPopup) {
                otherBanksPopup.style.display = 'none';
            }
        });

        const giftVoucherOptions = document.getElementById('gift-voucher-options');
        const giftVoucherCode = document.getElementById('gift-voucher-code');
        const applyVoucherButton = document.getElementById('apply-voucher');
        const voucherMessage = document.getElementById('voucher-message');
        const payButton = document.getElementById('pay-button');

        paymentMethods.forEach(method => {
            method.addEventListener('click', () => {
                // ... existing code ...

                if (method.id === 'gift-method') {
                    paymentDetailsContent.appendChild(giftVoucherOptions);
                    giftVoucherOptions.style.display = 'block';
                    payButton.classList.add('disabled');
                    payButton.style.cursor = 'not-allowed';
                } else {
                    payButton.classList.remove('disabled');
                    payButton.style.cursor = 'pointer';
                }
            });
        });

        applyVoucherButton.addEventListener('click', () => {
            const code = giftVoucherCode.value.trim();
            if (code === 'MUSEUM20') {
                voucherMessage.textContent = 'Voucher applied successfully!';
                voucherMessage.style.color = 'green';
                payButton.classList.remove('disabled');
                payButton.style.cursor = 'pointer';
                updateOrderSummaryTotal(0); // Set total to 0 when MUSEUM20 is applied
            } else {
                voucherMessage.textContent = 'Invalid voucher code.';
                voucherMessage.style.color = 'red';
                payButton.classList.add('disabled');
                payButton.style.cursor = 'not-allowed';
                updateOrderSummaryTotal(originalTotal); // Reset to original total for invalid codes
            }
        });

        payButton.addEventListener('mouseover', () => {
            if (payButton.classList.contains('disabled')) {
                payButton.title = 'ðŸš« Payment not allowed';
            } else {
                payButton.title = '';
            }
        });

        const redirectConfirmationPopup = document.getElementById('redirect-confirmation-popup');
        const confirmRedirectButton = document.getElementById('confirm-redirect');
        const cancelRedirectButton = document.getElementById('cancel-redirect');

        payButton.addEventListener('click', (e) => {
            if (!payButton.classList.contains('disabled')) {
                e.preventDefault();
                const selectedPaymentMethod = document.querySelector('.payment-method-button.selected');
                if (selectedPaymentMethod && selectedPaymentMethod.id === 'netbanking-method') {
                    const selectedBank = document.querySelector('.netbanking-option-button.selected');
                    if (selectedBank) {
                        redirectConfirmationPopup.style.display = 'flex';
                    } else {
                        alert('Please select a bank before proceeding.');
                    }
                } else {
                    showLoadingPopup();
                }
            }
        });

        confirmRedirectButton.addEventListener('click', () => {
            redirectConfirmationPopup.style.display = 'none';
            showLoadingPopup();
        });

        cancelRedirectButton.addEventListener('click', () => {
            redirectConfirmationPopup.style.display = 'none';
        });

        // Close the popup if clicked outside
        window.addEventListener('click', (e) => {
            if (e.target === redirectConfirmationPopup) {
                redirectConfirmationPopup.style.display = 'none';
            }
        });

        // Add these lines at the beginning of your script tag
        const orderSummaryTotal = document.querySelector('.payment-summary-total .payment-summary-price');
        const originalTotal = parseFloat(orderSummaryTotal.textContent.replace('â‚¹', ''));

        // Update the applyVoucherButton event listener
        applyVoucherButton.addEventListener('click', () => {
            const code = giftVoucherCode.value.trim();
            if (code === 'MUSEUM20') {
                voucherMessage.textContent = 'Voucher applied successfully!';
                voucherMessage.style.color = 'green';
                payButton.classList.remove('disabled');
                payButton.style.cursor = 'pointer';
                updateOrderSummaryTotal(0); // Set total to 0 when MUSEUM20 is applied
            } else {
                voucherMessage.textContent = 'Invalid voucher code.';
                voucherMessage.style.color = 'red';
                payButton.classList.add('disabled');
                payButton.style.cursor = 'not-allowed';
                updateOrderSummaryTotal(originalTotal); // Reset to original total for invalid codes
            }
        });

        // Add this new function to update the order summary total
        function updateOrderSummaryTotal(newTotal) {
            orderSummaryTotal.textContent = `â‚¹${newTotal.toFixed(2)}`;
        }

        // Update the payment method selection to reset the total when changing methods
        paymentMethods.forEach(method => {
            method.addEventListener('click', () => {
                // ... existing code ...

                if (method.id === 'gift-method') {
                    paymentDetailsContent.appendChild(giftVoucherOptions);
                    giftVoucherOptions.style.display = 'block';
                    payButton.classList.add('disabled');
                    payButton.style.cursor = 'not-allowed';
                } else {
                    payButton.classList.remove('disabled');
                    payButton.style.cursor = 'pointer';
                    updateOrderSummaryTotal(originalTotal); // Reset to original total when changing payment methods
                }
            });
        });

        const cardNumberInput = document.getElementById('card-number');
        const cvvInput = document.getElementById('cvv');

        cardNumberInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 16) {
                value = value.slice(0, 16);
            }
            e.target.value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
        });

        cvvInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 3) {
                value = value.slice(0, 3);
            }
            e.target.value = value;
        });

        const loadingPopup = document.getElementById('loading-popup');

        function showLoadingPopup() {
            loadingPopup.style.display = 'flex';
        }

        function hideLoadingPopup() {
            loadingPopup.style.display = 'none';
        }

        // Modify the pay button click event
        payButton.addEventListener('click', (e) => {
            if (!payButton.classList.contains('disabled')) {
                e.preventDefault();
                const selectedPaymentMethod = document.querySelector('.payment-method-button.selected');
                if (selectedPaymentMethod) {
                    const selectedOption = document.querySelector(`#${selectedPaymentMethod.id.replace('-method', '-options')} .selected`);
                    if (selectedOption || selectedPaymentMethod.id === 'gift-method') {
                        if (selectedPaymentMethod.id === 'netbanking-method') {
                            redirectConfirmationPopup.style.display = 'flex';
                        } else {
                            showLoadingPopup();
                        }
                    } else {
                        alert('Please select a specific option before proceeding.');
                    }
                } else {
                    alert('Please select a payment method before proceeding.');
                }
            }
        });

        // Modify the confirm redirect button click event
        confirmRedirectButton.addEventListener('click', () => {
            redirectConfirmationPopup.style.display = 'none';
            showLoadingPopup();
        });

        // Add click event listener to the loading popup to close it
        loadingPopup.addEventListener('click', (e) => {
            if (e.target === loadingPopup) {
                hideLoadingPopup();
            }
        });
    </script>

</body>
</html>